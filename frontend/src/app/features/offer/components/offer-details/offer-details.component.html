<div class="offer-details" *ngIf="offer">
  <!-- Spinner de chargement -->
  <div *ngIf="loading" class="loading-spinner">
    <mat-progress-spinner mode="indeterminate" diameter="70" color="primary"></mat-progress-spinner>
    <p>Chargement en cours...</p>
  </div>

  <!-- Contenu de l'offre -->
  <div *ngIf="!loading">
    <!-- En-tÃªte de l'offre -->
    <div class="offer-header">
      <h1>{{ offer.topic }}</h1>
      <p class="offer-status" [ngClass]="{
        'status-open': offer.status === 'Open',
        'status-closed': offer.status === 'Closed',
        'status-pending': offer.status === 'Pending'
      }">
        {{ offer.status === 'Open' ? 'Ouverte' : offer.status === 'Closed' ? 'FermÃ©e' : 'En attente' }}
      </p>
    </div>

    <!-- Section RÃ©sumÃ© de l'offre -->
    <div class="info-section">
      <div class="summary-card">
        <h3>RÃ©sumÃ© de l'Offre</h3>
        <div class="info-item"><i class="icon">ğŸ“‹</i><p><strong>Domaine :</strong> {{ offer.domain }}</p></div>
        <div class="info-item"><i class="icon">ğŸ¢</i><p><strong>SociÃ©tÃ© :</strong> {{ offer.company }}</p></div>
        <div class="info-item"><i class="icon">ğŸ“</i><p><strong>Lieu :</strong> {{ offer.location }}</p></div>
        <div class="info-item"><i class="icon">ğŸ“</i><p><strong>Type d'offre :</strong> {{ offer.type }}</p></div>
        <div class="info-item"><i class="icon">ğŸ“„</i><p><strong>Type de contrat :</strong> {{ offer.contractType }}</p></div>
        <div class="info-item"><i class="icon">ğŸ“…</i><p><strong>PubliÃ©e le :</strong> {{ offer.postedDate | date: 'short' }}</p></div>
        <div class="info-item"><i class="icon">â³</i><p><strong>Date d'expiration :</strong> {{ offer.expirationDate | date: 'short' }}</p></div>
        <div class="info-item"><i class="icon">ğŸ’µ</i><p><strong>Salaire :</strong> {{ offer.salary ? (offer.salary + ' FCFA') : 'Non spÃ©cifiÃ©' }}</p></div>
        <div class="info-item"><i class="icon">ğŸŒ</i><p><strong>TÃ©lÃ©travail :</strong> {{ offer.isRemoteWorking ? 'Oui' : 'Non' }}</p></div>
      </div>

      <!-- Informations de l'entreprise -->
      <div class="company-card">
        <h3>Informations de l'Entreprise</h3>
        <div class="info-item"><i class="icon">ğŸ“</i><p><strong>Localisation :</strong> {{ offer.companyLocation || 'Non spÃ©cifiÃ©' }}</p></div>
        <div class="info-item"><i class="icon">ğŸŒ</i><p><strong>Site Web :</strong><a *ngIf="offer.companyWebsite" [href]="offer.companyWebsite" target="_blank">{{ offer.companyWebsite }}</a></p></div>
        <div class="info-item"><i class="icon">ğŸ“§</i><p><strong>Email de contact :</strong><a *ngIf="offer.contactEmail" [href]="'mailto:' + offer.contactEmail">{{ offer.contactEmail }}</a></p></div>
      </div>
    </div>

    <!-- DÃ©tails de l'offre -->
    <div class="details-cards">
      <div class="description-card">
        <h4>Description de l'Offre</h4>
        <p>{{ offer.description }}</p>
      </div>

      <div class="skills-card">
        <h4>CompÃ©tences Requises</h4>
        <ul>
          <li *ngFor="let skill of requirementsList">{{ skill }}</li>
        </ul>
      </div>

      <div class="responsibilities-card">
        <h4>ResponsabilitÃ©s</h4>
        <ul>
          <li *ngFor="let responsibility of responsibilitiesList">{{ responsibility }}</li>
        </ul>
      </div>

      <div class="benefits-card">
        <h4>Avantages</h4>
        <ul>
          <li *ngFor="let benefit of benefitsList">{{ benefit }}</li>
        </ul>
      </div>

      <div class="additional-info-card">
        <h4>Informations SupplÃ©mentaires</h4>
        <ul>
          <li *ngFor="let info of additionalInfoList">{{ info }}</li>
        </ul>
      </div>
    </div>

    <!-- Section Documents Requis -->
    <div class="documents-card">
      <h4>Documents Requis pour la Candidature</h4>
      <ul>
        <li *ngFor="let doc of requiredDocuments">{{ doc }}</li>
      </ul>
    </div>

    <!-- Bouton de postulation -->
    <button (click)="register()" class="apply-button">Postuler</button>
  </div>
</div>
