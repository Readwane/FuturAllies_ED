<div class="dashboard-container">
    <aside class="sidebar">
      <div class="sidebar-header">
        <a href="#" class="logo-link">
          <img src="assets/icon.png" alt="Platform Logo" class="logo" />
        </a>
        <h2>Recruitment Dashboard</h2>
      </div>
      <ul class="sidebar-links">
        <li (click)="showDashboard()">Dashboard</li>
        <li (click)="showCreateOffer()">Create Offer</li>
      </ul>
    </aside>
  
    <main class="main-content">
      <header class="main-header">
        <nav class="navigation-links">
          <span (click)="showDashboard()">Dashboard</span>
          <span (click)="showCreateOffer()">Create Offer</span>
        </nav>
        <div class="auth-buttons">
          <button (click)="login()" *ngIf="!isLoggedIn">Log In</button>
          <button (click)="logout()" *ngIf="isLoggedIn">Log Out</button>
        </div>
      </header>
  
      <!-- Section: Statistiques -->
      <div *ngIf="isDashboardVisible" class="dashboard">
        <h1>Dashboard</h1>
        <div class="stats-section">
          <div class="stat-card" *ngFor="let stat of offerStats">
            <h3>{{ stat.name }}</h3>
            <p>{{ stat.stat }}</p>
          </div>
        </div>
  
        <!-- Liste des offres -->
        <h2>Your Offers</h2>
        <table class="offer-table">
          <thead>
            <tr>
              <th>Title</th>
              <th>Type</th>
              <th>Status</th>
              <th>Applications</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let offer of offers">
              <td>{{ offer.title }}</td>
              <td>{{ offer.type }}</td>
              <td>{{ offer.status }}</td>
              <td>{{ getApplicationsCount(offer._id) }}</td>
              <td>
                <button (click)="editOffer(offer._id)">Edit</button>
                <button (click)="deleteOffer(offer._id)">Delete</button>
                <button (click)="viewApplications(offer._id)">View Applications</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
  
      <!-- Formulaire de crÃ©ation d'une nouvelle offre -->
      <div *ngIf="isCreateOfferVisible" class="create-offer">
        <h1>Create Offer</h1>
        <form [formGroup]="offerForm" (ngSubmit)="onSubmit()">
          <fieldset>
            <legend>Offer Details</legend>
            <div class="form-group">
              <label for="title">Title</label>
              <input id="title" formControlName="title" type="text" placeholder="Offer Title" />
            </div>
            <div class="form-group">
              <label for="description">Description</label>
              <textarea id="description" formControlName="description" placeholder="Offer Description"></textarea>
            </div>
            <div class="form-group">
              <label for="type">Type</label>
              <select id="type" formControlName="type">
                <option value="Job">Job</option>
                <option value="Internship">Internship</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div class="form-group">
              <label for="status">Status</label>
              <select id="status" formControlName="status">
                <option value="Open">Open</option>
                <option value="Closed">Closed</option>
                <option value="Pending">Pending</option>
              </select>
            </div>
          </fieldset>
  
          <fieldset>
            <legend>Additional Information</legend>
            <div class="form-group">
              <label for="location">Location</label>
              <input id="location" formControlName="location" type="text" placeholder="Offer Location" />
            </div>
            <div class="form-group">
              <label for="salary">Salary</label>
              <input id="salary" formControlName="salary" type="number" placeholder="Salary (optional)" />
            </div>
            <div class="form-group">
              <label for="postedDate">Posted Date</label>
              <input id="postedDate" formControlName="postedDate" type="date" />
            </div>
          </fieldset>
  
          <div class="form-actions">
            <button type="submit" [disabled]="offerForm.invalid">Create Offer</button>
          </div>
        </form>
      </div>
    </main>
  </div>
  